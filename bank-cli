#!/usr/bin/env bash
# bank-cli - Convenient wrapper for Bank CLI application
#
# Usage:
#   ./bank-cli                 Run the application
#   ./bank-cli --help          Show application help
#
# For developers:
#   make run                   Build and run
#   make dev                   Verify, build, and run

set -e

# Locate the binary relative to script location
SCRIPT_DIR="$(cd "$(dirname "${BASH_SOURCE[0]}")" && pwd)"
BIN="$SCRIPT_DIR/.build/bin/Debug/net8.0/bank-cli"

# Check if binary exists
if [ ! -f "$BIN" ]; then
    echo "Error: Executable not found at $BIN" >&2
    echo "" >&2
    echo "Please build the project first:" >&2
    echo "  make build" >&2
    echo "" >&2
    echo "Or for full workflow:" >&2
    echo "  make dev    # Verify + build + run" >&2
    exit 1
fi

# Execute the binary with all arguments passed through
exec "$BIN" "$@"
